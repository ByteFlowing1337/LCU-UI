<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LCU Companion</title>
    <link rel="icon" type="image/x-icon" href="/static/icon.ico" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/css/modern.css" />
  </head>
  <body>
    <div class="app-wrapper">
      <!-- Sidebar Navigation -->
      <nav class="sidebar">
        <div class="logo mb-4">
          <i class="bi bi-lightning-charge-fill text-primary fs-2"></i>
        </div>
        <div class="sidebar-nav">
          <a href="#" id="nav-dashboard" class="nav-item active" title="Dashboard">
            <i class="bi bi-house-door"></i>
          </a>
          <a href="#" id="nav-search" class="nav-item" title="Search">
            <i class="bi bi-search"></i>
          </a>
          <a href="#" id="nav-automation" class="nav-item" title="Automation">
            <i class="bi bi-cpu"></i>
          </a>
          <a href="#" id="nav-stats" class="nav-item" title="Stats">
            <i class="bi bi-bar-chart"></i>
          </a>
          <div style="flex-grow: 1"></div>
          <a href="#" id="nav-settings" class="nav-item" title="Settings">
            <i class="bi bi-gear"></i>
          </a>
          <a href="#" id="nav-logout" class="nav-item" title="Logout">
            <i class="bi bi-box-arrow-right"></i>
          </a>
        </div>
      </nav>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Dynamic Island (Status) -->
        <div class="dynamic-island-container">
          <div id="dynamic-island" class="dynamic-island island-status-idle">
            <div class="island-icon">
              <i class="bi bi-activity"></i>
            </div>
            <div class="island-content" id="realtime-status">等待指令...</div>
          </div>
        </div>

        <div id="notification-container"></div>

        <!-- Header -->
        <header class="dashboard-header">
          <div class="welcome-text">
            <h1>Dashboard</h1>
            <p class="text-muted">Welcome back, Summoner</p>
          </div>
          <div class="header-actions d-flex gap-3">
            <div class="status-pill">
              <div class="status-dot"></div>
              <span>LCU Connected</span>
            </div>
          </div>
        </header>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
          <!-- Left Column -->
          <div class="left-column">
            <!-- Summoner Search -->
            <section class="search-card">
              <h3 class="h5 mb-3 text-primary">
                <i class="bi bi-search me-2"></i>Summoner Search
              </h3>
              <div class="search-input-group">
                <i class="bi bi-person text-muted"></i>
                <input
                  type="text"
                  id="summoner-name-input"
                  class="search-input"
                  placeholder="Summoner Name..."
                />
              </div>
              <div class="action-buttons">
                <button id="fetch-btn" class="btn-primary-glow">
                  <i class="bi bi-search me-2"></i>Search
                </button>
                <button id="fetch-tft-btn" class="btn-secondary-glass">
                  <i class="bi bi-grid-3x3-gap me-2"></i>TFT Stats
                </button>
              </div>
            </section>

            <!-- Recent Activity -->
            <section class="search-card">
              <h3 class="h5 mb-3 text-primary">
                <i class="bi bi-activity me-2"></i>Recent Activity
              </h3>
              <div class="recent-activity-list">
                <!-- Placeholder Items -->
                <div class="activity-item">
                  <div class="activity-badge badge-victory">Victory</div>
                  <div class="d-flex flex-column">
                    <span class="fw-bold">Ranked Solo/Duo</span>
                    <span class="text-muted small">2 hours ago</span>
                  </div>
                </div>
                <div class="activity-item">
                  <div class="activity-badge badge-victory">Victory</div>
                  <div class="d-flex flex-column">
                    <span class="fw-bold">Ranked Solo/Duo</span>
                    <span class="text-muted small">2 hours ago</span>
                  </div>
                </div>
                <div class="activity-item">
                  <div class="activity-badge badge-victory">Victory</div>
                  <div class="d-flex flex-column">
                    <span class="fw-bold">Ranked Solo/Duo</span>
                    <span class="text-muted small">2 hours ago</span>
                  </div>
                </div>
              </div>
            </section>
          </div>

          <!-- Right Column -->
          <div class="right-column">
            <!-- Automation Hub -->
            <section class="automation-hub" id="automation-hub">
              <div class="hub-header">
                <h3 class="h5 mb-0">
                  <i class="bi bi-lightning-charge me-2"></i>Automation Hub
                </h3>
                <span class="badge bg-secondary bg-opacity-25 text-light"
                  >Active: 2 Modules</span
                >
              </div>

              <div class="module-cards">
                <!-- Auto Accept -->
                <div class="module-card active" id="auto-accept-btn">
                  <div class="module-icon">
                    <i class="bi bi-check-circle"></i>
                  </div>
                  <div class="module-title">Auto Accept</div>
                  <div class="module-status text-success">Ready to accept</div>
                </div>

                <!-- Analyze Enemy -->
                <div class="module-card waiting" id="auto-analyze-btn">
                  <div class="module-icon">
                    <i class="bi bi-shield-check"></i>
                  </div>
                  <div class="module-title">Analyze Enemy</div>
                  <div class="module-status text-primary">
                    Waiting for lobby
                  </div>
                </div>

                <!-- Auto Ban/Pick -->
                <div class="module-card configured" id="auto-banpick-btn">
                  <div class="module-icon">
                    <i class="bi bi-tools"></i>
                  </div>
                  <div class="module-title">Auto Ban/Pick</div>
                  <div class="module-status text-warning">Configured</div>
                </div>
              </div>

              <!-- Ban/Pick Config -->
              <div class="ban-pick-config p-3 rounded bg-dark bg-opacity-25">
                <h6 class="text-muted text-uppercase small mb-3">
                  Ban/Pick Configuration
                </h6>
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label small text-muted"
                      >Ban Priority</label
                    >
                    <div id="ban-selectors-container"></div>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label small text-muted"
                      >Pick Priority</label
                    >
                    <div id="pick-selectors-container"></div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Analysis Cards -->
            <div class="analysis-grid">
              <div class="analysis-card">
                <div class="analysis-icon-large">
                  <i class="bi bi-shield-fill"></i>
                </div>
                <h4 class="h5">Teammate Analysis</h4>
                <p class="text-muted small mb-0">
                  View detailed stats and winrates
                </p>
                <div
                  id="teammate-results-area"
                  class="mt-3 w-100 text-start"
                ></div>
              </div>
              <div class="analysis-card">
                <div class="analysis-icon-large" style="color: #f87171">
                  <i class="bi bi-crosshair"></i>
                </div>
                <h4 class="h5">Enemy Analysis</h4>
                <p class="text-muted small mb-0">
                  Identify threats and weak links
                </p>
                <div
                  id="enemy-results-area"
                  class="mt-3 w-100 text-start"
                ></div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script type="module" src="/static/js/main.js"></script>
  </body>
</html>
